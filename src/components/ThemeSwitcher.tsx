import React from 'react'
import { useDispatch, useSelector } from 'react-redux'
import { ThemeValues, selectThemeValue, setTheme } from '../redux/slices/theme'

const ThemeSwitcher = () => {
	const theme = useSelector(selectThemeValue)
	const dispatch = useDispatch()

	const handleToggleTheme = (value: string) => {
		dispatch(setTheme(value))
		localStorage.setItem('theme', value)
	}

	return (
		<button
			onClick={() =>
				handleToggleTheme(
					theme === ThemeValues.DARKMODE
						? ThemeValues.LIGHTMODE
						: ThemeValues.DARKMODE
				)
			}
			className={`${
				theme === ThemeValues.DARKMODE ? 'dark' : ''
			} theme-switcher`}
		>
			<div className='theme-switcher__item'>
				<svg
					width='17'
					height='17'
					viewBox='0 0 17 17'
					fill='none'
					xmlns='http://www.w3.org/2000/svg'
				>
					<path
						d='M8.33333 0C8.79357 0 9.16667 0.373096 9.16667 0.833333V1.66667C9.16667 2.1269 8.79357 2.5 8.33333 2.5C7.87309 2.5 7.5 2.1269 7.5 1.66667V0.833333C7.5 0.373096 7.87309 0 8.33333 0ZM14.2259 2.44077C14.5514 2.76621 14.5514 3.29384 14.2259 3.61928L13.6367 4.20854C13.3112 4.53397 12.7836 4.53397 12.4582 4.20854C12.1327 3.8831 12.1327 3.35546 12.4582 3.03003L13.0474 2.44077C13.3729 2.11533 13.9005 2.11533 14.2259 2.44077ZM2.44077 2.44077C2.76621 2.11533 3.29385 2.11533 3.61928 2.44077L4.20854 3.03003C4.53397 3.35546 4.53397 3.8831 4.20854 4.20854C3.8831 4.53397 3.35546 4.53397 3.03003 4.20854L2.44077 3.61928C2.11533 3.29385 2.11533 2.76621 2.44077 2.44077ZM8.33333 5C6.49238 5 5 6.49238 5 8.33333C5 10.1743 6.49238 11.6667 8.33333 11.6667C10.1743 11.6667 11.6667 10.1743 11.6667 8.33333C11.6667 6.49238 10.1743 5 8.33333 5ZM3.33333 8.33333C3.33333 5.57191 5.57191 3.33333 8.33333 3.33333C11.0948 3.33333 13.3333 5.57191 13.3333 8.33333C13.3333 11.0948 11.0948 13.3333 8.33333 13.3333C5.57191 13.3333 3.33333 11.0948 3.33333 8.33333ZM0 8.33333C0 7.87309 0.373096 7.5 0.833333 7.5H1.66667C2.1269 7.5 2.5 7.87309 2.5 8.33333C2.5 8.79357 2.1269 9.16667 1.66667 9.16667H0.833333C0.373096 9.16667 0 8.79357 0 8.33333ZM14.1667 8.33333C14.1667 7.87309 14.5398 7.5 15 7.5H15.8333C16.2936 7.5 16.6667 7.87309 16.6667 8.33333C16.6667 8.79357 16.2936 9.16667 15.8333 9.16667H15C14.5398 9.16667 14.1667 8.79357 14.1667 8.33333ZM3.03003 12.4581C3.35546 12.1327 3.8831 12.1327 4.20854 12.4581C4.53397 12.7835 4.53397 13.3112 4.20854 13.6366L3.61928 14.2259C3.29385 14.5513 2.76621 14.5513 2.44077 14.2259C2.11533 13.9004 2.11533 13.3728 2.44077 13.0474L3.03003 12.4581ZM12.4582 13.6366C12.1327 13.3112 12.1327 12.7836 12.4582 12.4581C12.7836 12.1327 13.3112 12.1327 13.6367 12.4581L14.2259 13.0474C14.5514 13.3728 14.5514 13.9004 14.2259 14.2259C13.9005 14.5513 13.3729 14.5513 13.0474 14.2259L12.4582 13.6366ZM8.33333 14.1667C8.79357 14.1667 9.16667 14.5398 9.16667 15V15.8333C9.16667 16.2936 8.79357 16.6667 8.33333 16.6667C7.87309 16.6667 7.5 16.2936 7.5 15.8333V15C7.5 14.5398 7.87309 14.1667 8.33333 14.1667Z'
						fill='#2A2A2A'
					/>
				</svg>
				Light
			</div>
			<div className='theme-switcher__item'>
				<svg
					width='16'
					height='16'
					viewBox='0 0 16 16'
					fill='none'
					xmlns='http://www.w3.org/2000/svg'
				>
					<path
						d='M5.80064 0.7441C6.05491 0.998368 6.11741 1.38706 5.95565 1.70821C5.5339 2.54559 5.29601 3.49197 5.29601 4.49632C5.29601 7.92474 8.07529 10.704 11.5037 10.704C12.508 10.704 13.4544 10.4661 14.2918 10.0444C14.613 9.88262 15.0017 9.94511 15.2559 10.1994C15.5102 10.4536 15.5727 10.8423 15.4109 11.1635C14.1163 13.7339 11.4524 15.5 8.37436 15.5C4.02547 15.5 0.5 11.9746 0.5 7.62567C0.5 4.54767 2.26617 1.88368 4.83653 0.589093C5.15769 0.42734 5.54638 0.489833 5.80064 0.7441ZM3.68475 3.55802C2.73864 4.64786 2.16667 6.07027 2.16667 7.62567C2.16667 11.0541 4.94594 13.8334 8.37436 13.8334C9.92975 13.8334 11.3522 13.2614 12.442 12.3153C12.1342 12.3519 11.8211 12.3707 11.5037 12.3707C7.15481 12.3707 3.62934 8.84521 3.62934 4.49632C3.62934 4.17895 3.64816 3.86581 3.68475 3.55802Z'
						fill='#2A2A2A'
					/>
				</svg>
				Dark
			</div>
		</button>
	)
}

export default ThemeSwitcher
